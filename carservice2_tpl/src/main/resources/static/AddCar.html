<!DOCTYPE html>
<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <meta charset="ISO-8859-1">
    <title>Add a car</title>
</head>
<body>

<a href="index.html">Menu</a>

<h1><font color="deepblue">Add a car</font></h1>

<form>
    Plate number: <input id="plateNumberId" type="text" name="plateNumber" value="NbPlat"><br>
    Brand: <input id="brandId" type="text" name="brand" value="Type"><br>
    Price: <input id="priceId" type="text" name="price" value="Price"><br><br>
    <input type="button" value="Submit" onclick="addCar()">
</form>

<script>
function addCar() {
    //Methode 1
    var text = '{"';
    text += 'plateNumber":"' + document.getElementById("plateNumberId").value + '",'
    text += '"brand":"' + document.getElementById("brandId").value + '",'
    text += '"price":"' + document.getElementById("priceId").value + '"}'
    var car = JSON.parse(text);
    var httpRequest = new XMLHttpRequest();
    httpRequest.open('POST', "http://localhost:8080/cars", true);
    httpRequest.setRequestHeader("Content-type", "application/json");
    httpRequest.send(JSON.stringify(car));
    /*
    //Methode 2
    var value_plateNumberId=document.getElementById("plateNumberId").value;
    var value_brandId=document.getElementById("brandId").value;
    var value_priceId=document.getElementById("priceId").value;
    url="cars";
    $.ajax({
			type:"POST",
			url:url,
			data:"plateNumberId="+value_plateNumberId+"&brandId="+value_brandId+"&priceId="+value_priceId,
			datatype: "JSON",
			success: function(rep)
			{
				alert("ok");
			},
			error: function (jqXHR, textStatus, errorThrown){alert(textStatus);},
    });
    */
}
</script>


</body>
</html>